#include <err.h>
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <unistd.h>

#define BANNER \
  "Welcome to phoenix/stack-two, brought to you by https://exploit.education"

int main(int argc, char **argv) {
  volatile int changeme;
  char buffer[64];
  char *ptr;

  printf("%s\n", BANNER);

  ptr = getenv("ExploitEducation");
  if (ptr == NULL) {
    errx(1, "please set the ExploitEducation environment variable");
  }

  changeme = 0;
  strcpy(buffer, ptr);

  if (changeme == 0x0d0a090a) {
    puts("Well done, you have successfully set changeme to the correct value");
  } else {
    printf(
        "Almost! changeme is currently 0x%08x, we want 0x0d0a090a\n", changeme);
  }

  exit(0);
}

